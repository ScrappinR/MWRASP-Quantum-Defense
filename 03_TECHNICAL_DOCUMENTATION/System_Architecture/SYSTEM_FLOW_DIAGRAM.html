<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MWRASP System Flow - Interactive Diagram</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #fff;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            text-align: center;
            color: #b8d4f1;
            margin-bottom: 30px;
        }

        .diagram-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .flow-section {
            margin-bottom: 40px;
            position: relative;
        }

        .section-title {
            font-size: 1.5em;
            color: #4fc3f7;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #4fc3f7;
        }

        .flow-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            position: relative;
        }

        .component-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            flex: 1;
            margin: 0 10px;
            text-align: center;
            position: relative;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .component-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.4);
        }

        .component-box.detection {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .component-box.defense {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .component-box.evolution {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }

        .component-box.control {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }

        .component-name {
            font-weight: bold;
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .component-detail {
            font-size: 0.9em;
            color: rgba(255,255,255,0.9);
            margin-top: 10px;
        }

        .component-status {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #4ade80;
            box-shadow: 0 0 10px rgba(74, 222, 128, 0.5);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 10px rgba(74, 222, 128, 0.5); }
            50% { box-shadow: 0 0 20px rgba(74, 222, 128, 0.8); }
            100% { box-shadow: 0 0 10px rgba(74, 222, 128, 0.5); }
        }

        .arrow {
            position: absolute;
            width: 40px;
            height: 2px;
            background: #4fc3f7;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1;
        }

        .arrow::after {
            content: '';
            position: absolute;
            right: -10px;
            top: -4px;
            width: 0;
            height: 0;
            border-left: 10px solid #4fc3f7;
            border-top: 5px solid transparent;
            border-bottom: 5px solid transparent;
        }

        .flow-description {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid #4fc3f7;
        }

        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .metric-card {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .metric-value {
            font-size: 2em;
            font-weight: bold;
            color: #4fc3f7;
        }

        .metric-label {
            font-size: 0.9em;
            color: rgba(255,255,255,0.7);
            margin-top: 5px;
        }

        .implementation-note {
            background: rgba(255, 193, 7, 0.2);
            border: 1px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .implementation-note strong {
            color: #ffc107;
        }

        .threat-flow {
            background: rgba(0,0,0,0.2);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .threat-step {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(255,255,255,0.05);
            border-radius: 5px;
        }

        .step-number {
            background: #4fc3f7;
            color: #1e3c72;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-time {
            color: #4ade80;
            font-weight: bold;
            margin-left: auto;
            flex-shrink: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>MWRASP Quantum Defense System</h1>
        <p class="subtitle">Complete System Flow & Architecture (Based on Implemented Code)</p>

        <div class="diagram-container">
            <!-- Main System Flow -->
            <div class="flow-section">
                <h2 class="section-title">Primary Defense Flow</h2>
                
                <div class="flow-row">
                    <div class="component-box detection">
                        <div class="component-status"></div>
                        <div class="component-name">Threat Detection</div>
                        <div class="component-detail">
                            Quantum Canary Tokens<br>
                            Behavioral Analysis<br>
                            Pattern Recognition
                        </div>
                    </div>
                    
                    <div class="arrow" style="left: 33%;"></div>
                    
                    <div class="component-box defense">
                        <div class="component-status"></div>
                        <div class="component-name">Active Defense</div>
                        <div class="component-detail">
                            Temporal Fragmentation<br>
                            100ms Data Expiration<br>
                            Jurisdiction Hopping
                        </div>
                    </div>
                    
                    <div class="arrow" style="left: 66%;"></div>
                    
                    <div class="component-box evolution">
                        <div class="component-status"></div>
                        <div class="component-name">Adaptive Response</div>
                        <div class="component-detail">
                            Agent Coordination<br>
                            Collective Intelligence<br>
                            System Evolution
                        </div>
                    </div>
                </div>

                <div class="flow-description">
                    <strong>How It Works:</strong> The system continuously monitors for threats using quantum canary tokens and behavioral patterns. 
                    Upon detection, data is immediately fragmented with 100ms expiration timers and distributed across legal jurisdictions. 
                    The agent network coordinates responses and evolves defenses in real-time.
                </div>
            </div>

            <!-- Quantum Attack Response -->
            <div class="flow-section">
                <h2 class="section-title">Quantum Attack Response Flow</h2>
                
                <div class="threat-flow">
                    <div class="threat-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <strong>Detection:</strong> Quantum canary tokens detect superposition collapse
                        </div>
                        <div class="step-time">&lt;1ms</div>
                    </div>
                    
                    <div class="threat-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <strong>Analysis:</strong> Statistical deviation confirms quantum signature
                        </div>
                        <div class="step-time">~10ms</div>
                    </div>
                    
                    <div class="threat-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <strong>Fragmentation:</strong> Data split into 3-10 fragments with quantum noise
                        </div>
                        <div class="step-time">~20ms</div>
                    </div>
                    
                    <div class="threat-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <strong>Distribution:</strong> Fragments sent to different jurisdictions
                        </div>
                        <div class="step-time">~30ms</div>
                    </div>
                    
                    <div class="threat-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <strong>Expiration:</strong> All fragments self-destruct
                        </div>
                        <div class="step-time">100ms</div>
                    </div>
                </div>

                <div class="implementation-note">
                    <strong>Implementation Status:</strong> Quantum detection uses statistical simulation (chi-squared tests) 
                    rather than actual quantum hardware. The fragmentation and expiration system is fully functional.
                </div>
            </div>

            <!-- Behavioral Authentication Flow -->
            <div class="flow-section">
                <h2 class="section-title">Behavioral Authentication Flow</h2>
                
                <div class="flow-row">
                    <div class="component-box detection">
                        <div class="component-status"></div>
                        <div class="component-name">Protocol Ordering</div>
                        <div class="component-detail">
                            6 Ordering Algorithms<br>
                            Context-Based Selection<br>
                            Partner-Dependent
                        </div>
                    </div>
                    
                    <div class="arrow" style="left: 33%;"></div>
                    
                    <div class="component-box defense">
                        <div class="component-status"></div>
                        <div class="component-name">Digital Body Language</div>
                        <div class="component-detail">
                            Packet Rhythm Analysis<br>
                            Buffer Preferences<br>
                            Hash Patterns
                        </div>
                    </div>
                    
                    <div class="arrow" style="left: 66%;"></div>
                    
                    <div class="component-box evolution">
                        <div class="component-status"></div>
                        <div class="component-name">Identity Verification</div>
                        <div class="component-detail">
                            Similarity Score &gt;0.75<br>
                            Continuous Learning<br>
                            Impostor Detection
                        </div>
                    </div>
                </div>
            </div>

            <!-- System Control -->
            <div class="flow-section">
                <h2 class="section-title">System Control (Kill Switch)</h2>
                
                <div class="flow-row">
                    <div class="component-box control" style="max-width: 400px; margin: 0 auto;">
                        <div class="component-status"></div>
                        <div class="component-name">Master Control System</div>
                        <div class="component-detail">
                            Emergency Shutdown<br>
                            Component Control<br>
                            Maintenance Mode<br>
                            State Preservation
                        </div>
                    </div>
                </div>

                <div class="flow-description">
                    <strong>Kill Switch Capabilities:</strong> The system can be completely disabled, put into maintenance mode, 
                    or have individual components selectively disabled. All implemented in <code>system_control.py</code>.
                </div>
            </div>

            <!-- Actual Metrics -->
            <div class="flow-section">
                <h2 class="section-title">System Metrics (From Actual Code)</h2>
                
                <div class="metric-grid">
                    <div class="metric-card">
                        <div class="metric-value">100ms</div>
                        <div class="metric-label">Data Expiration Time</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">3-10</div>
                        <div class="metric-label">Fragment Count</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">10</div>
                        <div class="metric-label">Jurisdictions</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">0.75</div>
                        <div class="metric-label">Auth Threshold</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">5</div>
                        <div class="metric-label">Agent Roles</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">6</div>
                        <div class="metric-label">Protocol Orders</div>
                    </div>
                </div>
            </div>

            <!-- Implementation Status -->
            <div class="flow-section">
                <h2 class="section-title">Implementation Status</h2>
                
                <div class="metric-grid">
                    <div class="metric-card">
                        <div class="metric-value">✅</div>
                        <div class="metric-label">Temporal Fragmentation</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">✅</div>
                        <div class="metric-label">Legal Barriers</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">✅</div>
                        <div class="metric-label">Behavioral Auth</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">✅</div>
                        <div class="metric-label">Agent Network</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">✅</div>
                        <div class="metric-label">Kill Switch</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">⚠️</div>
                        <div class="metric-label">Quantum Hardware</div>
                    </div>
                </div>

                <div class="implementation-note">
                    <strong>Note:</strong> ✅ = Fully Implemented, ⚠️ = Simulated/Partial. 
                    Quantum detection uses statistical simulation rather than actual quantum hardware.
                </div>
            </div>
        </div>
    </div>

    <script>
        // Add interactive elements
        document.querySelectorAll('.component-box').forEach(box => {
            box.addEventListener('click', function() {
                // Flash the box
                this.style.transform = 'scale(1.05)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 200);
            });
        });

        // Animate status indicators
        setInterval(() => {
            document.querySelectorAll('.component-status').forEach(status => {
                if (Math.random() > 0.8) {
                    status.style.background = '#fbbf24';
                    setTimeout(() => {
                        status.style.background = '#4ade80';
                    }, 500);
                }
            });
        }, 3000);
    </script>
</body>
</html>