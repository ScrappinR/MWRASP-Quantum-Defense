<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="900" viewBox="0 0 1200 900" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title-text { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; text-anchor: middle; }
      .system-text { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; text-anchor: middle; }
      .component-text { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }
      .detail-text { font-family: Arial, sans-serif; font-size: 10px; text-anchor: middle; }
      .arrow { marker-end: url(#arrowhead); stroke: #333; stroke-width: 2; fill: none; }
      .data-input { fill: #e8f5e8; stroke: #4caf50; stroke-width: 2; rx: 8; }
      .gdpr-zone { fill: #e3f2fd; stroke: #2196f3; stroke-width: 2; rx: 8; }
      .ccpa-zone { fill: #f3e5f5; stroke: #9c27b0; stroke-width: 2; rx: 8; }
      .pipeda-zone { fill: #fff3e0; stroke: #ff9800; stroke-width: 2; rx: 8; }
      .compliance-engine { fill: #fce4ec; stroke: #e91e63; stroke-width: 2; rx: 8; }
      .decision { fill: #ffebee; stroke: #f44336; stroke-width: 2; rx: 20; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="600" y="25" class="title-text">FIGURE 2: Geographic Legal Compliance Workflow</text>
  
  <!-- Data Input -->
  <rect x="50" y="100" width="200" height="120" class="data-input"/>
  <text x="150" y="130" class="system-text">Data Subject</text>
  <text x="150" y="145" class="system-text">Information</text>
  <text x="150" y="170" class="component-text">• User location: Germany</text>
  <text x="150" y="185" class="component-text">• Data type: Personal</text>
  <text x="150" y="200" class="component-text">• Sensitivity: High</text>
  <text x="150" y="215" class="component-text">• Processing purpose</text>
  
  <!-- Compliance Analysis Engine -->
  <rect x="300" y="100" width="250" height="120" class="compliance-engine"/>
  <text x="425" y="130" class="system-text">Regulatory Framework</text>
  <text x="425" y="145" class="system-text">Analysis Engine</text>
  <text x="425" y="170" class="component-text">Applicable Regulations:</text>
  <text x="425" y="185" class="detail-text">• GDPR (EU) - Primary</text>
  <text x="425" y="197" class="detail-text">• ePrivacy Directive (EU)</text>
  <text x="425" y="209" class="detail-text">• German BDSG (National)</text>
  
  <!-- Regulatory Compliance Zones -->
  <!-- GDPR Zone -->
  <rect x="650" y="80" width="220" height="160" class="gdpr-zone"/>
  <text x="760" y="110" class="system-text">GDPR Compliance Zone</text>
  <text x="760" y="125" class="system-text">(European Union)</text>
  <text x="760" y="150" class="component-text">Data Residency:</text>
  <text x="760" y="165" class="detail-text">• Must remain in EU/EEA</text>
  <text x="760" y="177" class="detail-text">• Adequacy decision countries OK</text>
  <text x="760" y="195" class="component-text">Processing Requirements:</text>
  <text x="760" y="210" class="detail-text">• Lawful basis required</text>
  <text x="760" y="222" class="detail-text">• Data subject rights</text>
  <text x="760" y="234" class="detail-text">• 72-hour breach notification</text>
  
  <!-- CCPA Zone -->
  <rect x="950" y="80" width="220" height="160" class="ccpa-zone"/>
  <text x="1060" y="110" class="system-text">CCPA Compliance Zone</text>
  <text x="1060" y="125" class="system-text">(California, USA)</text>
  <text x="1060" y="150" class="component-text">Data Processing:</text>
  <text x="1060" y="165" class="detail-text">• Consumer privacy rights</text>
  <text x="1060" y="177" class="detail-text">• Right to delete/opt-out</text>
  <text x="1060" y="195" class="component-text">Cross-Border Transfer:</text>
  <text x="1060" y="210" class="detail-text">• Disclosure limitations</text>
  <text x="1060" y="222" class="detail-text">• Third-party restrictions</text>
  
  <!-- Data Sovereignty Decision -->
  <ellipse cx="600" cy="350" rx="150" ry="60" class="decision"/>
  <text x="600" y="335" class="system-text">Data Sovereignty</text>
  <text x="600" y="350" class="system-text">Assessment</text>
  <text x="600" y="370" class="component-text">Can data leave jurisdiction?</text>
  
  <!-- Cloud Provider Selection -->
  <rect x="200" y="480" width="180" height="100" class="gdpr-zone"/>
  <text x="290" y="510" class="system-text">EU Cloud Provider</text>
  <text x="290" y="530" class="component-text">• Azure EU-West</text>
  <text x="290" y="545" class="component-text">• GDPR compliant</text>
  <text x="290" y="560" class="component-text">• Data residency: Germany</text>
  <text x="290" y="575" class="component-text">• Encryption: AES-256</text>
  
  <rect x="420" y="480" width="180" height="100" class="compliance-engine"/>
  <text x="510" y="510" class="system-text">Hybrid Deployment</text>
  <text x="510" y="530" class="component-text">• Metadata: Global</text>
  <text x="510" y="545" class="component-text">• Personal data: EU only</text>
  <text x="510" y="560" class="component-text">• Processing logs: Local</text>
  <text x="510" y="575" class="component-text">• Backup: EU regions</text>
  
  <rect x="640" y="480" width="180" height="100" class="ccpa-zone"/>
  <text x="730" y="510" class="system-text">Rejection Path</text>
  <text x="730" y="530" class="component-text">• US processing denied</text>
  <text x="730" y="545" class="component-text">• Cross-border blocked</text>
  <text x="730" y="560" class="component-text">• Alternative required</text>
  <text x="730" y="575" class="component-text">• Compliance priority</text>
  
  <!-- Compliance Monitoring -->
  <rect x="350" y="640" width="500" height="100" class="compliance-engine"/>
  <text x="600" y="670" class="system-text">Real-Time Compliance Monitoring</text>
  <text x="500" y="695" class="component-text">Ongoing Validation:</text>
  <text x="500" y="710" class="detail-text">• Data location tracking</text>
  <text x="500" y="722" class="detail-text">• Access pattern monitoring</text>
  <text x="500" y="734" class="detail-text">• Regulatory change alerts</text>
  
  <text x="700" y="695" class="component-text">Automated Response:</text>
  <text x="700" y="710" class="detail-text">• Policy updates</text>
  <text x="700" y="722" class="detail-text">• Data migration triggers</text>
  <text x="700" y="734" class="detail-text">• Compliance reporting</text>
  
  <!-- Connection Lines -->
  <line x1="250" y1="160" x2="300" y2="160" class="arrow"/>
  <line x1="550" y1="160" x2="650" y2="160" class="arrow"/>
  <line x1="425" y1="220" x2="520" y2="290" class="arrow"/>
  
  <!-- Decision paths -->
  <line x1="500" y1="380" x2="290" y2="480" class="arrow" stroke="#4caf50"/>
  <line x1="600" y1="410" x2="510" y2="480" class="arrow" stroke="#ff9800"/>
  <line x1="700" y1="380" x2="730" y2="480" class="arrow" stroke="#f44336"/>
  
  <!-- To monitoring -->
  <line x1="290" y1="580" x2="450" y2="640" class="arrow"/>
  <line x1="510" y1="580" x2="550" y2="640" class="arrow"/>
  <line x1="730" y1="580" x2="650" y2="640" class="arrow"/>
  
  <!-- Cross-Border Transfer Analysis -->
  <rect x="50" y="780" width="1100" height="100" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1" rx="5"/>
  <text x="600" y="805" class="system-text">Cross-Border Data Transfer Analysis</text>
  
  <text x="150" y="830" class="component-text">Transfer Mechanisms:</text>
  <text x="150" y="845" class="detail-text">• Adequacy decisions</text>
  <text x="150" y="857" class="detail-text">• Standard Contractual Clauses</text>
  
  <text x="400" y="830" class="component-text">Risk Assessment:</text>
  <text x="400" y="845" class="detail-text">• Government access laws</text>
  <text x="400" y="857" class="detail-text">• Surveillance programs</text>
  
  <text x="650" y="830" class="component-text">Technical Safeguards:</text>
  <text x="650" y="845" class="detail-text">• End-to-end encryption</text>
  <text x="650" y="857" class="detail-text">• Pseudonymization</text>
  
  <text x="900" y="830" class="component-text">Monitoring:</text>
  <text x="900" y="845" class="detail-text">• Transfer logging</text>
  <text x="900" y="857" class="detail-text">• Audit trails</text>
  
  <!-- Decision Labels -->
  <text x="420" y="420" class="detail-text" fill="#4caf50">Compliant: EU Storage</text>
  <text x="580" y="440" class="detail-text" fill="#ff9800">Partial: Hybrid Model</text>
  <text x="720" y="420" class="detail-text" fill="#f44336">Non-compliant: Blocked</text>
  
  <!-- PIPEDA Consideration -->
  <rect x="900" y="280" width="200" height="100" class="pipeda-zone"/>
  <text x="1000" y="310" class="system-text">PIPEDA Zone</text>
  <text x="1000" y="325" class="system-text">(Canada)</text>
  <text x="1000" y="345" class="component-text">• Privacy impact assessment</text>
  <text x="1000" y="360" class="component-text">• Breach notification</text>
  <text x="1000" y="375" class="component-text">• Consent requirements</text>
  
  <line x1="870" y1="160" x2="950" y2="320" class="arrow" stroke-dasharray="3,3"/>
  
  <!-- Performance Metrics -->
  <text x="50" y="50" class="component-text">Compliance Performance:</text>
  <text x="50" y="65" class="detail-text">• Analysis time: &lt;10ms • Regulation coverage: 95+ frameworks • Accuracy: 99.8% • Real-time updates</text>

</svg>